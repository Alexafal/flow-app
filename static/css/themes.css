/* Theme System - Dynamic Theme Switching */

/* ============================================
   CALM THEME (Default)
   ============================================ */
:root,
[data-theme="calm"],
body[data-theme="calm"] {
    --theme-primary: #A9C6FF;
    --theme-primary-dark: #8BB3FF;
    --theme-primary-light: #C3D7FF;
    --theme-bg: #F8FAFF;
    --theme-surface: #FFFFFF;
    --theme-text: #1A1A2E;
    --theme-text-secondary: #6B7280;
    --theme-border: #E5E7EB;
    --theme-accent: #A9C6FF;
}

/* ============================================
   SUNSET THEME
   ============================================ */
[data-theme="sunset"],
body[data-theme="sunset"] {
    --theme-primary: #FFB3BA;
    --theme-primary-dark: #FF9AA2;
    --theme-primary-light: #FFCCCB;
    --theme-bg: #FFF5F5;
    --theme-surface: #FFFFFF;
    --theme-text: #2D1B1B;
    --theme-text-secondary: #6B7280;
    --theme-border: #FFE5E5;
    --theme-accent: #FFB3BA;
}

/* ============================================
   FOREST THEME
   ============================================ */
[data-theme="forest"],
body[data-theme="forest"] {
    --theme-primary: #C2E9BF;
    --theme-primary-dark: #A8D9A5;
    --theme-primary-light: #DCF5DA;
    --theme-bg: #F5FFF8;
    --theme-surface: #FFFFFF;
    --theme-text: #1B2D1B;
    --theme-text-secondary: #6B7280;
    --theme-border: #E5FFE5;
    --theme-accent: #C2E9BF;
}

/* ============================================
   APPLY THEME TO ALL ELEMENTS
   ============================================ */
[data-theme],
body[data-theme] {
    /* Update all calm theme variables */
    --calm-primary: var(--theme-primary);
    --calm-primary-dark: var(--theme-primary-dark);
    --calm-primary-light: var(--theme-primary-light);
    --calm-bg-1: var(--theme-bg);
    --calm-bg-2: var(--theme-surface);
    --calm-bg: var(--theme-bg);
    --calm-text-1: var(--theme-text);
    --calm-text-2: var(--theme-text-secondary);
    --calm-line: var(--theme-border);
    --primary-gradient: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-dark) 100%);
}

/* Update body background */
body[data-theme] {
    background: var(--theme-bg);
}

/* Update buttons */
.btn-primary,
.add-btn,
.nav-item.active,
.view-btn.active,
.btn-today,
.btn-icon {
    background: var(--theme-primary);
    border-color: var(--theme-primary);
    color: white !important;
}

.btn-primary:hover,
.add-btn:hover {
    background: var(--theme-primary-dark);
    border-color: var(--theme-primary-dark);
    color: white !important;
}

/* Update progress bars */
.progress-fill {
    background: var(--theme-primary);
}

/* Update checkboxes */
.calendar-checkbox.checked {
    background: var(--theme-primary);
    border-color: var(--theme-primary);
}

/* Update focus states */
*:focus-visible {
    outline-color: var(--theme-primary);
}

/* Update links and interactive elements */
a,
button:not(.btn-secondary):not(.btn-danger):not(.theme-btn):not(.btn-primary):not(.add-btn):not(.view-btn):not(.btn-today):not(.btn-icon) {
    color: var(--theme-primary);
}

/* Export/Import buttons use theme color */
.export-btn,
.import-btn {
    color: var(--theme-primary, var(--calm-primary)) !important;
    border-color: var(--calm-line) !important;
}

.export-btn:hover,
.import-btn:hover {
    color: var(--calm-text-1) !important;
    background: var(--theme-primary-light, var(--calm-primary-light)) !important;
    border-color: var(--theme-primary, var(--calm-primary)) !important;
}

/* Ensure buttons maintain contrast on hover */
.btn-primary:hover,
.add-btn:hover {
    color: white !important;
}

/* Passwordless and social login buttons use theme color */
.passwordless-btn {
    color: var(--theme-primary, var(--calm-primary)) !important;
}

.social-login-btn:not(.google):not(.apple):not(.github) {
    color: var(--theme-primary, var(--calm-primary)) !important;
    border-color: var(--calm-line) !important;
}

.passwordless-btn:hover,
.social-login-btn:hover {
    color: var(--calm-text-1) !important;
    background: var(--theme-primary-light, var(--calm-primary-light)) !important;
    border-color: var(--theme-primary, var(--calm-primary)) !important;
}

/* Secondary buttons - use theme color for text */
.btn-secondary {
    color: var(--theme-primary, var(--calm-primary)) !important;
    border-color: var(--calm-line) !important;
}

.btn-secondary:hover {
    color: var(--calm-text-1) !important;
    background: var(--theme-primary-light, var(--calm-primary-light)) !important;
    border-color: var(--theme-primary, var(--calm-primary)) !important;
}

/* Update modal headers */
.modal-header h3 {
    color: var(--theme-text);
}

/* Update stat values */
.stat-value {
    background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-dark) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Update productivity score circle */
#scoreCircle {
    stroke: var(--theme-primary);
}

#scoreGradient stop[offset="0%"] {
    stop-color: var(--theme-primary);
}

#scoreGradient stop[offset="100%"] {
    stop-color: var(--theme-primary-dark);
}

/* Update score text color to match theme */
.score-text {
    color: var(--theme-primary) !important;
}

.score-label {
    color: var(--calm-text-1) !important;
}

/* Update calendar highlights */
.calendar-day.today {
    border-color: var(--theme-primary);
}

.calendar-day.selected {
    background: var(--theme-primary-light);
}

/* Update widget badges */
.widget-badge {
    background: var(--theme-primary);
}

/* Update priority dots */
.priority-dot.priority-high {
    background: var(--theme-primary);
}

/* Update mood buttons */
.mood-option.selected {
    background: var(--theme-primary-light);
    border-color: var(--theme-primary);
}

/* Update toggle switches */
.toggle-switch input:checked + .toggle-slider {
    background-color: var(--theme-primary);
}

/* Update theme buttons */
.theme-btn.active {
    border-color: var(--theme-primary);
    box-shadow: 0 0 0 3px var(--theme-primary-light);
}

/* Update all buttons to use theme color */
button.btn-primary,
button[class*="btn-primary"],
button.add-btn,
button[class*="add-btn"],
button#setFocusBtn,
button[id*="Focus"],
button[id*="focus"] {
    background: var(--theme-primary) !important;
    border-color: var(--theme-primary) !important;
    color: white !important;
}

button.btn-primary:hover,
button[class*="btn-primary"]:hover,
button.add-btn:hover,
button[class*="add-btn"]:hover,
button#setFocusBtn:hover,
button[id*="Focus"]:hover,
button[id*="focus"]:hover {
    background: var(--theme-primary-dark) !important;
    border-color: var(--theme-primary-dark) !important;
    color: white !important;
}

/* Delete button matches other buttons */
.btn-danger {
    background: white !important;
    color: var(--theme-primary, var(--calm-primary)) !important;
    border: 2px solid var(--calm-line, #E5E7EB) !important;
}

.btn-danger:hover {
    background: var(--theme-primary-light, var(--calm-primary-light)) !important;
    color: var(--calm-text-1) !important;
    border-color: var(--theme-primary, var(--calm-primary)) !important;
}

